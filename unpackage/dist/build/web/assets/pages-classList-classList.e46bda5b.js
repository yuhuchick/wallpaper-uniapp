import{b as a,C as s,D as e,o as l,c as t,w as o,s as i,i as u,a as n,x as c,e as d,f as r,F as p,g,l as m,h as v}from"./index-efdce372.js";import{_ as f}from"./uni-load-more.784dab6c.js";import{_,b as y,f as h,h as L,i as S,j,k as b,r as k}from"./apis.df0f859b.js";import{g as w}from"./goHome.8a4f30b7.js";const x=_({__name:"classList",setup(_){const x=a([]),z=a(!1),F={pageNum:1,pageSize:12},N=a=>{a.type?j(a).then((a=>{console.log("res6",a),x.value=[...x.value,...a.data],F.pageSize>a.data.length&&(z.value=!0),i("classListSync",x.value)})):a.classid&&b(a).then((a=>{console.log("res6",a),x.value=[...x.value,...a.data],F.pageSize>a.data.length&&(z.value=!0),i("classListSync",x.value)}))};return y((a=>{const{classid:e,type:l,name:t,id:o}=a;if(!e&&!l&&!o)return z.value=!0,void w();e?F.classid=e:l?F.type=l:F.classid=o,console.log("e",F),N(F),s({title:t}),h()})),L((()=>{z.value?console.log("yes"):(F.pageNum++,N(F))})),S((()=>{e("classListSync")})),(a,s)=>{const e=k(g("uni-load-more"),f),i=u,_=m,y=v;return l(),t(i,{class:"classListLayout"},{default:o((()=>[x.value.length||z.value?c("",!0):(l(),t(i,{key:0,class:"topLoading"},{default:o((()=>[n(e,{status:"loading"})])),_:1})),n(i,{class:"content"},{default:o((()=>[(l(!0),d(p,null,r(x.value,((a,s)=>(l(),t(y,{class:"item",url:`/pages/preview/preview?id=${a._id}`,key:a._id},{default:o((()=>[n(_,{class:"pic",src:a.smallPicurl,mode:"aspectFill"},null,8,["src"])])),_:2},1032,["url"])))),128))])),_:1}),x.value.length||z.value?(l(),t(i,{key:1,class:"bottomLoading"},{default:o((()=>[n(e,{status:z.value?"noMore":"loading"},null,8,["status"])])),_:1})):c("",!0),n(i,{class:"safe-area-inset-bottom"})])),_:1})}}},[["__scopeId","data-v-e764fed6"]]);export{x as default};
